<!DOCTYPE html>

<html lang="en">
  <head>
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <link rel="stylesheet" href="root.css?v=1" />
    <link rel="stylesheet" href="sidebar.css?v=1" />
    <link rel="stylesheet" href="tree.css?v=s111121" />

    <meta
      name="viewport"
      content="width=device-width, height=device-height, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover"
    />
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="assets/favicon.png" />
    <title>Less Engine</title>
  </head>
  <body>
<div class="global-header">

<div class="header-left">
  <div id="camera-controls" class="expanded">

      <div class="controls-inner">
        <div class="controls-group controls-group-viewports">
          <div class="button-grid">
            <button data-view="iso" class="btn-view btn-icon" title="Home">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
            </button>
            <button data-view="front" class="btn-view btn-icon" title="Front">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect width="18" height="18" x="3" y="3" rx="2"/></svg>
            </button>
            <button data-view="left" class="btn-view btn-icon" title="Left">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
            </button>
            <button data-view="top" class="btn-view btn-icon" title="Top">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m5 12 7-7 7 7"/><path d="M12 19V5"/></svg>
            </button>
          </div>
        </div>
        <div class="controls-group controls-group-dimensions">
          <button class="btn-toggle full-width btn-icon-text" id="toggleDims">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z"/><path d="m14.5 12.5 2-2"/><path d="m11.5 9.5 2-2"/><path d="m8.5 6.5 2-2"/><path d="m17.5 15.5 2-2"/></svg>
            <span class="btn-label">Show Ruler</span>
          </button>
        </div>
        <div class="controls-group controls-group-lighting">
          <button class="btn-toggle full-width btn-icon-text" id="toggleWater">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"/><path d="M9 18h6"/><path d="M10 22h4"/></svg>
            <span class="btn-label">Studio</span>
          </button>
        </div>
        <div class="controls-group controls-group-weather">
          <div class="weather-switch" id="weatherSwitch" data-weather="day">
            <div class="switch-track">
              <svg class="track-icon icon-day" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>
              <svg class="track-icon icon-sunset" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 10V2"/><path d="m4.93 10.93 1.41 1.41"/><path d="M2 18h2"/><path d="M20 18h2"/><path d="m19.07 10.93-1.41 1.41"/><path d="M22 22H2"/><path d="m16 6-4 4-4-4"/><path d="M16 18a4 4 0 0 0-8 0"/></svg>
              <div class="switch-thumb">
                <svg class="thumb-icon thumb-day" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>
                <svg class="thumb-icon thumb-sunset" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 10V2"/><path d="m4.93 10.93 1.41 1.41"/><path d="M2 18h2"/><path d="M20 18h2"/><path d="m19.07 10.93-1.41 1.41"/><path d="M22 22H2"/><path d="m16 6-4 4-4-4"/><path d="M16 18a4 4 0 0 0-8 0"/></svg>
              </div>
            </div>
          </div>
        </div>
      </div>

  </div>
</div>


<div id="saveConfigModal" class="modal hidden">
  <div class="modal-content">
    <h3>Save configuration</h3>
    <input type="text" id="configNameInput" placeholder="Configuration name" />
    <div class="modal-buttons">
      <button id="cancelSave">Cancel</button>
      <button id="confirmSave">Save</button>
    </div>
  </div>
</div>

<div class="header-center">
</div>

</div>
    <div id="loading-screen">
      <div class="sheet">
        <div>Boat Configurator</div>
        <div class="progress" aria-hidden="true"></div>
      </div>
    </div>
    <div class="canvas-wrapper">
      <canvas id="glCanvas"></canvas>
      <div id="variantHotspotLayer" class="variant-hotspot-layer"></div>
    </div>
    <div id="lengthLabel">0.0 m</div>
    <div id="labels"></div>


    <aside id="sidebar" class="tree">
      <input id="glbInput" type="file" accept=".glb,.gltf" style="display: none" />
      <div id="variantSidebar" class="variant-sidebar">
        <div class="variant-intro">
          <div class="boat-name"></div>
        </div>
        <div class="variant-tabs-wrapper">
          <div class="variant-tabs">
            <div class="variant-tabs-buttons"></div>
          </div>
        </div>
        <div class="variant-scroll-area">
          <div class="variant-placeholder">
            Tap a category to pick an option and start configuring your boat.
          </div>
          <h3 class="variant-active-title hidden"></h3>
          <div class="variant-tabs-content"></div>
        </div>
      </div>
      <div class="sidebar-total">
        <span class="label">Total Price:</span>
        <span class="price"></span>        
      </div>
    </aside>

    <script type="module" src="js/main.js?v=3131ssss1"></script>
    <div id="fps-meter hidden" class="hidden">FPS: <span id="fps-value">0</span></div>
    <div id="drawcall-meter hidden" class="hidden">Draw Calls: <span id="drawcalls-value">0</span></div>
    <div id="res-meter hidden" class="hidden"></div>
    <div id="info-panel">
      <div class="canvas-actions">
        <div class="info-actions">
          <button id="exportPDF" class="action-button">
            <svg aria-hidden="true" focusable="false" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8Z"/><polyline points="14 2 14 8 20 8"/><path d="M12 18v-6"/><path d="m9 15 3 3 3-3"/></svg>
            <span class="label">PDF</span>
          </button>
          <button id="shareConfig" class="action-button">
            <svg aria-hidden="true" focusable="false" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><path d="m8.59 13.51 6.83 3.98"/><path d="m15.41 6.51-6.82 3.98"/></svg>
            <span class="label">Share</span>
          </button>
          <button id="copyConfig" class="action-button">
            <svg aria-hidden="true" focusable="false" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="8" y="8" width="12" height="12" rx="2" ry="2"/><path d="M16 8V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2"/></svg>
            <span class="label">Copy</span>
          </button>
          <button id="saveConfigBtn" class="action-button">
            <svg aria-hidden="true" focusable="false" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2Z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>
            <span class="label">Save</span>
          </button>
          <button id="loadConfigToggle" class="action-button has-chevron load-toggle">
            <svg aria-hidden="true" focusable="false" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 8V4a2 2 0 0 1 2-2h3l2 2h7a2 2 0 0 1 2 2v2"/><path d="M6 8h14a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-6a2 2 0 0 1 2-2Z"/></svg>
            <span class="label">Load</span>
            <span class="chevron" aria-hidden="true"></span>
          </button>
          <button id="toggle-info" class="action-button has-chevron">
            <svg aria-hidden="true" focusable="false" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
            <span class="label">Config Info</span>
            <span class="chevron" aria-hidden="true"></span>
          </button>
        </div>
      </div>
      <div class="load-body">
        <div class="saved-configs-card">
          <div class="saved-title">Saved configurations</div>
          <div id="savedConfigsContainer" class="saved-configs">
            <div class="empty">No saved configs.</div>
          </div>
        </div>
      </div>
      <div class="info-body">
        <div id="info-content">
          <h3>Parts info</h3>
          <table id="partsTable">
            <thead>
              <tr>
                <th>Part</th>
                <th>Description</th>
                <th>Price</th>
              </tr>
            </thead>
            <tbody><!-- Popunjava se iz main.js --></tbody>
          </table>
        </div>
        <div id="boat-info" class="info-section"></div>
      </div>
    </div>
    <script>
      // Block context menu and dragging to discourage saving images/screenshots
      window.addEventListener("contextmenu", (event) => {
        event.preventDefault();
      });
      window.addEventListener("dragstart", (event) => {
        event.preventDefault();
      });
    </script>
  </body>
</html>

